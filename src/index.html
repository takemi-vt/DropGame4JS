
<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8">
		<title>JavaScriptで落ちゲー</title>
		<link rel="stylesheet" href="./css/dropgame.css">
	</head>
	<body>
		<div style="width:640px;height:480px;margin-left:auto;margin-right:auto;">
			<canvas id="game_display" width="640" height="480" style="border: 1px black solid;"></canvas>
			<canvas id="buff" width="640" height="480" style="display:none;"></canvas>
		</div>
		<div style="width:640px;margin-left:auto;margin-right:auto;margin-top:5px;">
			<button type="button" onclick="inKeyLeft();" style="width:50px;height:50px;">◀</button>
			<button type="button" onclick="inKeyDown();" style="width:50px;height:50px;">▼</button>
			<button type="button" onclick="inKeyRight();" style="width:50px;height:50px;">▶</button>
			<button type="button" onclick="inKeySpace();" style="width:50px;height:50px;">⇓</button>
			<div style="float:right;">
				<button type="button" onclick="inKeyUp();" style="width:60px;height:50px;">回転</button>
			</div>
			<div style="clear:both;"></div>
		</div>
		<div>
			<dl style="margin-left:auto;margin-right:auto;width:640px;">
				<dt>■■■ ゲーム操作方法 ■■■</dt>
				<dd> ←　ブロック移動　左</dd>
				<dd> →　ブロック移動　右</dd>
				<dd> ↑　ブロック回転（左回転) </dd>
				<dd> ↓　ブロック移動　下</dd>
				<dd> 左CTRL	ブロックをストック </dd>
				<dd> SPACE	ブロック落下</dd>
			</dl>
			<br/>
		</div>
		<script type="text/javascript" src="./js/jquery-3.5.1.min.js" ></script>
		<script type="text/javascript" src="./js/Scene.js" ></script>
		<script type="text/javascript" src="./gf/libs/block.js" ></script>
		<script type="text/javascript" src="./gf/libs/field.js" ></script>
		<script type="text/javascript" src="./gf/libs/tetrimino.js" ></script>
		<script type="text/javascript" src="./gf/libs/player.js" ></script>
		<script type="text/javascript" src="./gf/TitleScene.js" ></script>
		<script type="text/javascript" src="./gf/GameScene.js" ></script>
		<script type="text/javascript" src="./js/GameFrame.js" ></script>
		<script type="text/javascript" src="./js/DropGame.js" ></script>
	</body>
	<script type="text/javascript" >

		function inKey(Code){
			/*
			let screen = document.getElementById('game_display');
			screen.dispatchEvent( new KeyboardEvent( "keydown", {key: Code, code : Code }) );
			*/
			let ev = $.Event('keydown');
			ev.keyCode = Code;
			ev.code = Code;

			$('#game_display').trigger(ev);
			
		}

		function inKeyLeft(){
			//inKey(37);
			inKey("ArrowLeft");
		}

		function inKeyRight(){
			inKey("ArrowRight");
		}

		function inKeyDown(){
			inKey("ArrowDown");
		}

		function inKeySpace() {
			inKey("Space");
		}

		function inKeyUp(){
			inKey("ArrowUp");
		}
	</script>
</html>